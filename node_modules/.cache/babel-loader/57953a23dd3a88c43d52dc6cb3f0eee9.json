{"ast":null,"code":"var _jsxFileName = \"/Users/im_jacamo/Documents/General-Assembly/code/Homework-Deliverables/Project/Project-Wayfare/wayfarer-ABJJ/src/components/NewPostForm.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NewPostForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cities: [],\n      city: '',\n      title: '',\n      body: '' //user\n      //images\n\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const requestBody = {\n        city: this.state.city,\n        title: this.state.title,\n        body: this.state.body\n      }; // console.log(JSON.stringify(this.state.form))\n\n      fetch('https://abjj-wayfarer-api.herokuapp.com/post/', {\n        method: 'post',\n        // enctype: 'multipart/form-data',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      }).then(response => {\n        // console.log(response)\n        return response.json();\n      }).then(jsonData => {// console.log(jsonData)\n      }).catch(err => {\n        throw err;\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(`https://abjj-wayfarer-api.herokuapp.com/cities/`).then(res => res.json()).then(jsonData => {\n      this.setState({\n        cities: jsonData\n      });\n    }).catch(err => console.log(err)).then(() => {\n      this.setState({\n        city: this.props.currentCity._id\n      });\n    }).then(console.log(this.state));\n  }\n\n  componentDidUpdate() {}\n\n  render() {\n    const options = [];\n\n    for (let city of this.state.cities) {\n      options.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        value: city._id,\n        children: city.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 22\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create a new Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"city\",\n          id: \"city\",\n          onChange: this.handleChange,\n          children: options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 46\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleChange,\n          type: \"text\",\n          id: \"title\",\n          name: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 84\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"body\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: this.handleChange,\n          name: \"body\",\n          id: \"body\",\n          cols: \"19\",\n          rows: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default NewPostForm;","map":{"version":3,"sources":["/Users/im_jacamo/Documents/General-Assembly/code/Homework-Deliverables/Project/Project-Wayfare/wayfarer-ABJJ/src/components/NewPostForm.js"],"names":["React","NewPostForm","Component","state","cities","city","title","body","handleChange","event","setState","target","id","value","handleSubmit","preventDefault","requestBody","fetch","method","headers","JSON","stringify","then","response","json","jsonData","catch","err","componentDidMount","res","console","log","props","currentCity","_id","componentDidUpdate","render","options","push","name"],"mappings":"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","sourcesContent":["import React from 'react'\n\nclass NewPostForm extends React.Component {\n  //this.props.currentCity\n  state = {\n    cities: [],\n    city: '',\n    title: '',\n    body: ''\n    //user\n    //images\n    \n  }\n\n  componentDidMount() {\n    fetch(`https://abjj-wayfarer-api.herokuapp.com/cities/`)\n    .then((res) => res.json())\n      .then((jsonData) => {\n        this.setState({cities: jsonData})\n      })\n      .catch((err) => console.log(err))\n    .then(() => {this.setState({city: this.props.currentCity._id})})\n    .then(console.log(this.state))\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.id]: event.target.value\n    })\n  }\n\n  componentDidUpdate() {}\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const requestBody = {\n      city: this.state.city,\n      title: this.state.title,\n      body: this.state.body\n    }\n    // console.log(JSON.stringify(this.state.form))\n    fetch('https://abjj-wayfarer-api.herokuapp.com/post/', {\n      method: 'post',\n      // enctype: 'multipart/form-data',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(requestBody)\n    })\n    .then((response) => {\n      // console.log(response)\n      return response.json()\n    })\n    .then((jsonData) => {\n      // console.log(jsonData)\n    })\n    .catch((err) => {throw err})\n  }\n\n  render() {\n    const options = []\n      for (let city of this.state.cities) {\n        options.push(<option value={city._id}>{city.name}</option>)\n      }\n    \n  return (\n    <div className=\"container\">\n      <h2>Create a new Post</h2>\n      <form onSubmit={this.handleSubmit}>\n        <select name=\"city\" id=\"city\" onChange={this.handleChange}>\n          {options}\n        </select> <br/>\n        <label htmlFor=\"title\">Title</label> <br/>\n        <input onChange={this.handleChange} type=\"text\" id=\"title\" name=\"title\" /> <br/>\n        <label htmlFor=\"body\">Body</label> <br/>\n        <textarea onChange={this.handleChange} name=\"body\" id=\"body\" cols=\"19\" rows=\"5\"></textarea>\n        <br/>\n        <button type=\"submit\" >Submit</button>\n      </form>\n\n    </div>\n  )}\n}\n\nexport default NewPostForm;"]},"metadata":{},"sourceType":"module"}